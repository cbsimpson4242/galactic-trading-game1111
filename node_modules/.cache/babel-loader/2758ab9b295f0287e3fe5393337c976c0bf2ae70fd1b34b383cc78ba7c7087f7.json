{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useMultiplayer}from'../contexts/MultiplayerContext';import'./MultiplayerChat.css';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const MultiplayerChat=()=>{const{chatMessages,sendMessage,isConnected}=useMultiplayer();const[message,setMessage]=useState('');const[isOpen,setIsOpen]=useState(false);const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[chatMessages]);const handleSubmit=e=>{e.preventDefault();if(message.trim()&&isConnected){sendMessage(message.trim());setMessage('');}};const formatTime=timestamp=>{return new Date(timestamp).toLocaleTimeString('en-US',{hour12:false,hour:'2-digit',minute:'2-digit'});};const getMessageClass=messageType=>{switch(messageType){case'system':return'system-message';case'trade':return'trade-message';default:return'chat-message';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"multiplayer-chat \".concat(isOpen?'open':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-header\",onClick:()=>setIsOpen(!isOpen),children:[/*#__PURE__*/_jsxs(\"span\",{className:\"chat-title\",children:[\"\\uD83D\\uDCAC Multiplayer Chat \",isConnected?'ðŸŸ¢':'ðŸ”´']}),/*#__PURE__*/_jsx(\"span\",{className:\"chat-toggle\",children:isOpen?'âˆ’':'+'})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"chat-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"messages-container\",children:[chatMessages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-messages\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No messages yet. Start the conversation!\"})}):chatMessages.map(msg=>/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(getMessageClass(msg.type)),children:msg.type==='system'?/*#__PURE__*/_jsxs(\"div\",{className:\"system-message-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:formatTime(msg.timestamp)}),/*#__PURE__*/_jsx(\"span\",{className:\"message-text\",children:msg.message})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"message-username\",children:msg.username}),/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:formatTime(msg.timestamp)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:msg.message})]})},msg.id)),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"message-input-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),placeholder:isConnected?\"Type your message...\":\"Connecting...\",disabled:!isConnected,className:\"message-input\",maxLength:200}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!isConnected||!message.trim(),className:\"send-button\",children:\"Send\"})]})]})]});};export default MultiplayerChat;","map":{"version":3,"names":["React","useState","useRef","useEffect","useMultiplayer","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","MultiplayerChat","chatMessages","sendMessage","isConnected","message","setMessage","isOpen","setIsOpen","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSubmit","e","preventDefault","trim","formatTime","timestamp","Date","toLocaleTimeString","hour12","hour","minute","getMessageClass","messageType","className","concat","children","onClick","length","map","msg","type","username","id","ref","onSubmit","value","onChange","target","placeholder","disabled","maxLength"],"sources":["F:/Windsurf/Native/GTC 3/src/components/MultiplayerChat.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useMultiplayer } from '../contexts/MultiplayerContext';\r\nimport './MultiplayerChat.css';\r\n\r\nconst MultiplayerChat = () => {\r\n  const { chatMessages, sendMessage, isConnected } = useMultiplayer();\r\n  const [message, setMessage] = useState('');\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [chatMessages]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (message.trim() && isConnected) {\r\n      sendMessage(message.trim());\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    return new Date(timestamp).toLocaleTimeString('en-US', { \r\n      hour12: false, \r\n      hour: '2-digit', \r\n      minute: '2-digit' \r\n    });\r\n  };\r\n\r\n  const getMessageClass = (messageType) => {\r\n    switch (messageType) {\r\n      case 'system':\r\n        return 'system-message';\r\n      case 'trade':\r\n        return 'trade-message';\r\n      default:\r\n        return 'chat-message';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`multiplayer-chat ${isOpen ? 'open' : ''}`}>\r\n      <div className=\"chat-header\" onClick={() => setIsOpen(!isOpen)}>\r\n        <span className=\"chat-title\">\r\n          ðŸ’¬ Multiplayer Chat {isConnected ? 'ðŸŸ¢' : 'ðŸ”´'}\r\n        </span>\r\n        <span className=\"chat-toggle\">{isOpen ? 'âˆ’' : '+'}</span>\r\n      </div>\r\n      \r\n      {isOpen && (\r\n        <div className=\"chat-content\">\r\n          <div className=\"messages-container\">\r\n            {chatMessages.length === 0 ? (\r\n              <div className=\"no-messages\">\r\n                <p>No messages yet. Start the conversation!</p>\r\n              </div>\r\n            ) : (\r\n              chatMessages.map((msg) => (\r\n                <div key={msg.id} className={`message ${getMessageClass(msg.type)}`}>\r\n                  {msg.type === 'system' ? (\r\n                    <div className=\"system-message-content\">\r\n                      <span className=\"message-time\">{formatTime(msg.timestamp)}</span>\r\n                      <span className=\"message-text\">{msg.message}</span>\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      <div className=\"message-header\">\r\n                        <span className=\"message-username\">{msg.username}</span>\r\n                        <span className=\"message-time\">{formatTime(msg.timestamp)}</span>\r\n                      </div>\r\n                      <div className=\"message-text\">{msg.message}</div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              ))\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n          \r\n          <form onSubmit={handleSubmit} className=\"message-input-form\">\r\n            <input\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              placeholder={isConnected ? \"Type your message...\" : \"Connecting...\"}\r\n              disabled={!isConnected}\r\n              className=\"message-input\"\r\n              maxLength={200}\r\n            />\r\n            <button \r\n              type=\"submit\" \r\n              disabled={!isConnected || !message.trim()}\r\n              className=\"send-button\"\r\n            >\r\n              Send\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultiplayerChat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}